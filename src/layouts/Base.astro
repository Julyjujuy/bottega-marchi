---
import "../styles/global.css";
const { title = "Bottega Marchi" } = Astro.props;
---
<html lang="en" style="background-color:#9dd1d4;">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>

    <!-- Montserrat -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
      :root{
        --bg:#9dd1d4;
        --text:#0b1f22;
        --text-bright:#f8fdff;
        --maxw:1080px;
      }

      /* background everywhere (screenshots/print) */
      html, body{
        background: var(--bg) !important;
        background-color: var(--bg) !important;
        min-height: 100%;
      }
      @media print{
        html, body{
          -webkit-print-color-adjust: exact;
          print-color-adjust: exact;
        }
      }

      body{
        color: var(--text);
        font-family: "Montserrat", system-ui, Arial, sans-serif;
        -webkit-font-smoothing: antialiased;
        margin: 0;
      }

      a { color: inherit; text-decoration: none; }

      /* layout helpers */
      .page{ max-width: var(--maxw); margin: 0 auto; padding: 56px 24px; }
      .brand{ letter-spacing:.2em; text-transform:uppercase; font-weight:600; }
      .quiet{ color:#14363b; opacity:.85; }
      .nav a{ font-size:.8rem; letter-spacing:.12em; text-transform:uppercase; opacity:.9; }
      .nav a:hover{ opacity:.65; }
      header .brand{ font-size:.95rem; }

      /* hamburger icon */
      .hamburger{ width: 28px; height: 20px; position: relative; display: inline-block; }
      .hamburger span{
        position:absolute; left:0; right:0; height:2px; background:var(--text);
        transform-origin: left center; transition: transform .2s ease, opacity .2s ease;
      }
      .hamburger span:nth-child(1){ top:0; }
      .hamburger span:nth-child(2){ top:9px; }
      .hamburger span:nth-child(3){ top:18px; }
      [data-open="true"] .hamburger span:nth-child(1){ transform: rotate(45deg) translateY(1px); }
      [data-open="true"] .hamburger span:nth-child(2){ opacity:0; }
      [data-open="true"] .hamburger span:nth-child(3){ transform: rotate(-45deg) translateY(-1px); }

      /* mobile overlay */
      #mobileMenu{ position: fixed; inset: 0; z-index: 50; background: var(--bg); }

      /* footer links */
      .footer-links a{ opacity:.95; }
      .footer-links a:hover{ opacity:.65; }
.icon{ width:22px; height:22px; display:inline-block; vertical-align:middle; }
/* (optional) a touch larger on tablets/desktop */
@media (min-width: 768px){
  .icon{ width:24px; height:24px; }
}

    </style>
  </head>

  <body class="text-[17px]">
    <header class="page flex items-center justify-between">
      <a href="/" class="brand">Bottega&nbsp;Marchi</a>

      <!-- Desktop nav -->
      <nav class="nav hidden md:flex gap-6">
        <a href="/about">About</a>
        <a href="/collection">Collection</a>
        <a href="/contact">Contact</a>
      </nav>

      <!-- Mobile menu button (icon only) -->
      <button
        id="menuBtn"
        class="md:hidden p-2"
        aria-expanded="false"
        aria-controls="mobileMenu"
        aria-label="Open menu">
        <span class="hamburger" aria-hidden="true">
          <span></span><span></span><span></span>
        </span>
      </button>
    </header>

    <!-- Mobile full-screen overlay menu -->
    <div
      id="mobileMenu"
      class="hidden"
      role="dialog"
      aria-modal="true"
      aria-label="Site menu">
      <div class="page flex flex-col h-full">
        <!-- top bar inside overlay -->
        <div class="flex items-center justify-between">
          <span class="brand">Bottega&nbsp;Marchi</span>
          <button id="menuClose" class="p-2" aria-label="Close menu">
            <span class="hamburger" aria-hidden="true">
              <span></span><span></span><span></span>
            </span>
          </button>
        </div>

        <!-- links -->
        <nav class="mt-10 flex flex-col gap-6">
          <a class="brand text-lg" href="/about">About</a>
          <a class="brand text-lg" href="/collection">Collection</a>
          <a class="brand text-lg" href="/contact">Contact</a>
        </nav>

        <div class="mt-auto quiet text-sm">© {new Date().getFullYear()} Bottega Marchi</div>
      </div>
    </div>

    <slot />

    <footer class="page quiet text-sm flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
      <div>© {new Date().getFullYear()} Bottega Marchi</div>
      <div class="footer-links flex items-center gap-5">
        <!-- Instagram -->
        <a
          href="https://www.instagram.com/bottegamarchi/?igsh=ZmtubmxyM3RlOW54#"
          target="_blank"
          rel="noopener"
          aria-label="Bottega Marchi on Instagram"
          title="Instagram"
        >
          <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <rect x="3" y="3" width="18" height="18" rx="5" stroke="currentColor" stroke-width="1.6"/>
            <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.6"/>
            <circle cx="17.6" cy="6.6" r="1.2" fill="currentColor"/>
          </svg>
        </a>

        <!-- Email -->
        <a href="mailto:emanuele@bottegamarchi.com">emanuele@bottegamarchi.com</a>
      </div>
    </footer>

    <!-- tiny script to toggle the mobile menu + scroll lock -->
    <script is:inline>
      const root = document.documentElement;
      const btn = document.getElementById('menuBtn');
      const closeBtn = document.getElementById('menuClose');
      const menu = document.getElementById('mobileMenu');

      function openMenu() {
        menu.classList.remove('hidden');
        root.setAttribute('data-open', 'true');
        btn.setAttribute('aria-expanded', 'true');
        document.body.style.overflow = 'hidden'; // lock scroll
      }
      function closeMenu() {
        menu.classList.add('hidden');
        root.setAttribute('data-open', 'false');
        btn.setAttribute('aria-expanded', 'false');
        document.body.style.overflow = '';
      }

      btn?.addEventListener('click', () => {
        const isOpen = root.getAttribute('data-open') === 'true';
        isOpen ? closeMenu() : openMenu();
      });
      closeBtn?.addEventListener('click', closeMenu);

      // close on ESC and when clicking a link
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeMenu(); });
      menu?.addEventListener('click', (e) => {
        const t = e.target;
        if (t && t.closest && t.closest('a')) closeMenu();
      });
    </script>
  </body>
</html>
